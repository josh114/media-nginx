version: "3.8"

services:
  media-nginx:
    image: nginx:1.25-alpine
    container_name: media-nginx
    restart: unless-stopped

    volumes:
      # ðŸ”‘ Shared Coolify-managed volume (READ-ONLY)
      - /var/lib/docker/volumes/h0k8884ook0gkcg4ggs4o8ko-media_storage/_data:/var/media:ro

      # Nginx config
      - ./conf:/etc/nginx/conf.d:ro

    expose:
      - "8080"

    networks:
      - coolify
# volumes:
#   # ðŸš¨ IMPORTANT: Must be external, already created by Coolify
#   h0k8884ook0gkcg4ggs4o8ko-media_storage:
#     external: true

networks:
  coolify:
    external: true
